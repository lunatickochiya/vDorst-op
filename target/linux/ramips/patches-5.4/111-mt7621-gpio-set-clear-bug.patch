commit f02a35426347d7c7557f7b6352d1d12fecca97b3
Author: René van Dorst <opensource@vdorst.com>
Date:   Thu Nov 21 09:33:24 2019 +0100

    gpio: mt7621: disable set/clear register feature duo a bug
    
    Signed-off-by: René van Dorst <opensource@vdorst.com>

diff --git a/drivers/gpio/gpio-mt7621.c b/drivers/gpio/gpio-mt7621.c
index d1d785f983a7..159f4c8f9821 100644
--- a/drivers/gpio/gpio-mt7621.c
+++ b/drivers/gpio/gpio-mt7621.c
@@ -227,8 +227,12 @@ mediatek_gpio_bank_probe(struct device *dev,
 	ctrl = mtk->base + GPIO_REG_DCLR + (rg->bank * GPIO_BANK_STRIDE);
 	diro = mtk->base + GPIO_REG_CTRL + (rg->bank * GPIO_BANK_STRIDE);
 
+	/* mt7621 soc have set and clear register, but duo a unknown bug the
+	 * set and clear writes are not working.
+	 * So currently disable the use of the set/clear register feature.
+	 */
 	ret = bgpio_init(&rg->chip, dev, 4,
-			 dat, set, ctrl, diro, NULL, 0);
+			 dat, NULL, NULL, diro, NULL, 0);
 	if (ret) {
 		dev_err(dev, "bgpio_init() failed\n");
 		return ret;
